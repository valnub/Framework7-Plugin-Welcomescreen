import Template7 from'template7';import Swiper from'swiper';// A plugin for Framework7 to show a slideable welcome screen
var F7WelcomescreenPlugin={name:'welcomescreen',Welcomescreen:function(a,b,c){function d(){l=new Swiper('.welcomescreen-swiper',{direction:'horizontal',loop:o.loop,pagination:o.pagination?{el:'.swiper-pagination'}:void 0,parallax:o.parallax,speed:o.parallaxSpeed})}function e(){o.bgcolor&&k.css({"background-color":o.bgcolor,color:o.fontcolor})}function f(){i='<div class="welcomescreen-container {{#if options.cssClass}}{{options.cssClass}}{{/if}}">{{#if options.closeButton}}<div class="welcomescreen-closebtn close-welcomescreen">{{options.closeButtonText}}</div>{{/if}}<div class="welcomescreen-swiper">{{#if options.parallax}}<div class="parallax-bg" style="background-image:url({{options.parallaxBackgroundImage}})" data-swiper-parallax="{{options.parallaxBackground}}"></div>{{/if}}<div class="swiper-wrapper">{{#each slides}}<div class="swiper-slide" {{#if id}}id="{{id}}"{{/if}}><div class="welcomescreen-title {{#unless title}}hide-title{{/unless}}" data-swiper-parallax="{{#if parallaxTitle}}{{parallaxTitle}}{{else}}{{@root.options.parallaxSlideElements.title}}{{/if}}">{{#if title}}{{title}}{{else}}title{{/if}}</div>{{#if content}}<div class="welcomescreen-content">{{content}}</div>{{else}}{{#if picture}}<div class="welcomescreen-picture" data-swiper-parallax="{{#if parallaxPicture}}{{parallaxPicture}}{{else}}{{@root.options.parallaxSlideElements.subtitle}}{{/if}}">{{picture}}</div>{{/if}}{{#if text}}<div class="welcomescreen-text" data-swiper-parallax="{{#if parallaxText}}{{parallaxText}}{{else}}{{@root.options.parallaxSlideElements.text}}{{/if}}">{{text}}</div>{{/if}}{{/if}}</div>{{/each}}</div>{{#if options.pagination}}<div class="welcomescreen-pagination swiper-pagination"></div>{{/if}}{{#if options.navigation}}<!-- If we need navigation buttons --><div class="welcomescreen-navigation-prev swiper-button-prev"></div><div class="welcomescreen-navigation-next swiper-button-next"></div>{{/if}}</div></div></div>'}function g(){for(var a in o=o||{},q)'undefined'==typeof o[a]&&(o[a]=q[a])}function h(){const a=window.Template7||Template7;j=o.template?a.compile(o.template):a.compile(i)}var i,j,k,l,m,n=b,o=c,p=this,q={closeButton:!0,// enabled/disable close button
closeButtonText:'Skip',// close button text
cssClass:'',// additional class on container
pagination:!0,// swiper pagination,
navigation:!1,// swiper navigation
loop:!1,// swiper loop
open:!0,// open welcome screen on init
parallax:!1,// adds parallax capabilities
parallaxSpeed:600,// parallax default speed
parallaxBackgroundImage:'http://lorempixel.com/900/600/nightlife/2/',// parallax default background image
parallaxBackground:'-23%',// parallax default background effect
parallaxSlideElements:{title:-100,subtitle:-300,text:-500}};// Private properties
// Return instance
return p.open=function(){k=window.Dom7(j({options:o,slides:n})),m=k.find('.welcomescreen-swiper'),e(),window.Dom7('body').append(k),d(),k[0].f7Welcomescreen=p,'function'==typeof o.onOpened&&o.onOpened()},p.close=function(){l&&l.destroy(!0),k&&k.remove(),k=m=l=void 0,'function'==typeof o.onClosed&&o.onClosed()},p.next=function(){l&&l.slideNext()},p.previous=function(){l&&l.slidePrev()},p.slideTo=function(a){l&&l.slideTo(a)},p.init=function(a,b){a&&(n=a),b&&(o=b),f(),h(),g(),o.open&&p.open()},p.init(),p},params:{welcomescreen:{options:{},slides:[]}},/* Event handlers */on:{init:function(){window.Dom7=this.$,window.swiper=this.swiper,window.Dom7(document).on('click','.close-welcomescreen',function(a){a.preventDefault();var b=window.Dom7(this).parents('.welcomescreen-container');0<b.length&&b[0].f7Welcomescreen&&b[0].f7Welcomescreen.close()});var a=this,b=a.params.welcomescreen;a.welcomescreen=new F7WelcomescreenPlugin.Welcomescreen(a,b.slides,b.options)}}};export default F7WelcomescreenPlugin;
